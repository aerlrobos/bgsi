local EggRiftMap,ChestRiftMap={},{}for id,data in pairs(RiftsModule)do if data.Type=="Egg"then EggRiftMap[id]=data.Egg or data.DisplayName or id elseif data.Type=="Chest"then ChestRiftMap[id]=data.DisplayName or id end end
local teleportedEggs,alreadyTeleported={},{}
local EggsSection=Tabs.RiftsEggs:CreateSection("â–¶ Eggs")
local RS=game:GetService("ReplicatedStorage")
local VIM=game:GetService("VirtualInputManager")
local LP=game:GetService("Players").LocalPlayer
local HatchEggModule=RS:FindFirstChild("Client")and RS.Client:FindFirstChild("Effects")and RS.Client.Effects:FindFirstChild("HatchEgg")and require(RS.Client.Effects.HatchEgg)
local oldPlay=HatchEggModule and HatchEggModule.Play or nil
if HatchEggModule and oldPlay then HatchEggModule.Play=function(...)if getgenv().RiftsConfig.DisableEggAnim then return end return oldPlay(...)end end
local function getEggList()local n,s={},{}local f=workspace:WaitForChild("Rendered"):GetChildren()[13]if f then for _,e in pairs(f:GetChildren())do local name=e.Name if name and not s[name] and not name:find("Coming Soon")then table.insert(n,name)s[name]=true end end end;table.sort(n)return n end
EggsSection:CreateDropdown("EggSelect",{Title="Eggs",Values=getEggList(),Default=nil,Callback=function(v)getgenv().RiftsConfig.SelectedEgg=v teleportedEggs[v]=false end})
local disT=EggsSection:CreateToggle("DisableEggAnim",{Title="Disable Egg Animation",Default=false})
disT:OnChanged(function(v)getgenv().RiftsConfig.DisableEggAnim=v end)
local function getSafeCFrame(model)if not model then return nil end;if model.PrimaryPart then return model.PrimaryPart.CFrame end;local deco=model:FindFirstChild("Decoration") if deco then if deco:FindFirstChild("Primary")then local p=deco.Primary if p:IsA("BasePart")then return p.CFrame end;if p.WorldPivot then return p.WorldPivot end;if p.Pivot then return p.Pivot end end end;if model.WorldPivot then return model.WorldPivot end;if model.Pivot then return model.Pivot end;return nil end
local function teleportToEgg(e)local hrp=LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") if not hrp then return end;local rendered=workspace:WaitForChild("Rendered"):GetChildren()[13] if not rendered then return end;local eggModel=rendered:FindFirstChild(e) if not eggModel then return end;local safeC=getSafeCFrame(eggModel) if safeC and not alreadyTeleported[e]then hrp.CFrame=safeC+Vector3.new(0,3,0) teleportedEggs[e]=true alreadyTeleported[e]=true end;getgenv().RiftsConfig.LastPosition=hrp.CFrame end
EggsSection:CreateToggle("TeleportSummonedEgg",{Title="Teleport to Summoned Egg",Default=false,Callback=function(v)getgenv().RiftsConfig.TeleportSummonedEgg=v;if v then task.spawn(function() local wasSummoned=false while getgenv().RiftsConfig.TeleportSummonedEgg do local hrp=LP.Character and LP.Character:FindFirstChild("HumanoidRootPart") local summoned=workspace:FindFirstChild("SummonedEgg") local selectedEgg=getgenv().RiftsConfig.SelectedEgg if summoned then local target=getSafeCFrame(summoned:FindFirstChild("EggPlatformSpawn")) or getSafeCFrame(summoned) if target and hrp and not alreadyTeleported["SummonedEgg"] then hrp.CFrame=target+Vector3.new(0,3,0) alreadyTeleported["SummonedEgg"]=true alreadyTeleported[selectedEgg]=false end wasSummoned=true elseif wasSummoned then wasSummoned=false alreadyTeleported["SummonedEgg"]=false if selectedEgg then teleportToEgg(selectedEgg) end end;task.wait(1) end end) end end})
EggsSection:CreateToggle("AutoHatchEggs",{Title="Auto Hatch",Default=false,Callback=function(v)getgenv().RiftsConfig.AutoHatch=v;if v then getgenv().autoPressE=true;task.spawn(function() while getgenv().autoPressE do VIM:SendKeyEvent(true,Enum.KeyCode.E,false,game);task.wait();VIM:SendKeyEvent(false,Enum.KeyCode.E,false,game);task.wait() end end);task.spawn(function() while getgenv().RiftsConfig.AutoHatch do local egg=getgenv().RiftsConfig.SelectedEgg if egg and (not getgenv().RiftsConfig.TeleportSummonedEgg or not workspace:FindFirstChild("SummonedEgg"))then teleportToEgg(egg) end;task.wait(1.5) end end) else getgenv().autoPressE=false end end})
